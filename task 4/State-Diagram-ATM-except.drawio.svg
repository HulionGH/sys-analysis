<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1636px" preserveAspectRatio="none" style="width:906px;height:1636px;background:#FFFFFF;" version="1.1" viewBox="0 0 906 1636" width="906px" zoomAndPan="magnify"><defs><filter height="300%" id="fd72k8mp6zrdv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ad77b192cd16f261fcea770f00882c5a]
cluster GetData--><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="131" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="637" x="47.5" y="626"/><rect fill="#FFFFFF" height="98.7031" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="631" x="50.5" y="655.2969"/><line style="stroke:#A80036;stroke-width:1.5;" x1="47.5" x2="684.5" y1="652.2969" y2="652.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="247" y="642.9951">Получение данных по операции</text><g id="GetData.State8"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="109" x="91" y="669"/><line style="stroke:#A80036;stroke-width:1.5;" x1="91" x2="200" y1="695.2969" y2="695.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="121.5" y="686.9951">State8</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="67" x="96" y="711.4355">ожидание</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="96" y="725.4043">ввода валюты</text></g><g id="GetData.State9"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="50.2656" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="129" x="235" y="676"/><line style="stroke:#A80036;stroke-width:1.5;" x1="235" x2="364" y1="702.2969" y2="702.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="275" y="693.9951">State9</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="240" y="718.4355">валюта получена</text></g><g id="GetData.State10"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="103" x="399" y="669"/><line style="stroke:#A80036;stroke-width:1.5;" x1="399" x2="502" y1="695.2969" y2="695.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="421.5" y="686.9951">State10</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="67" x="404" y="711.4355">ожидание</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="404" y="725.4043">ввода суммы</text></g><g id="GetData.State11"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="50.2656" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="123" x="537" y="676"/><line style="stroke:#A80036;stroke-width:1.5;" x1="537" x2="660" y1="702.2969" y2="702.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="569.5" y="693.9951">State11</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="103" x="542" y="718.4355">сумма получена</text></g><ellipse cx="71.5" cy="16" fill="#000000" filter="url(#fd72k8mp6zrdv)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="State1"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="129" x="7" y="87"/><line style="stroke:#A80036;stroke-width:1.5;" x1="7" x2="136" y1="113.2969" y2="113.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="47" y="104.9951">State1</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="12" y="129.4355">ожидание ввода</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64" x="12" y="143.4043">операции</text></g><g id="State2"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="140" x="171.5" y="87"/><line style="stroke:#A80036;stroke-width:1.5;" x1="171.5" x2="311.5" y1="113.2969" y2="113.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="217.5" y="104.9951">State2</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61" x="176.5" y="129.4355">получено</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="176.5" y="143.4043">"снятие наличных"</text></g><g id="State3"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="87" x="347" y="87"/><line style="stroke:#A80036;stroke-width:1.5;" x1="347" x2="434" y1="113.2969" y2="113.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="366" y="104.9951">State3</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="67" x="352" y="129.4355">ожидание</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="352" y="143.4043">ввода PIN</text></g><g id="State4"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="50.2656" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="94" x="469.5" y="94"/><line style="stroke:#A80036;stroke-width:1.5;" x1="469.5" x2="563.5" y1="120.2969" y2="120.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="492.5" y="111.9951">State4</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="474.5" y="136.4355">PIN получен</text></g><g id="State5"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="158" x="598.5" y="87"/><line style="stroke:#A80036;stroke-width:1.5;" x1="598.5" x2="756.5" y1="113.2969" y2="113.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="653" y="104.9951">State5</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111" x="603.5" y="129.4355">отправка данных</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="603.5" y="143.4043">на проверку системе</text></g><rect fill="#000000" filter="url(#fd72k8mp6zrdv)" height="8" style="stroke:none;stroke-width:1.0;" width="80" x="637.5" y="212"/><g id="State6"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="139" x="608" y="281"/><line style="stroke:#A80036;stroke-width:1.5;" x1="608" x2="747" y1="307.2969" y2="307.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="653" y="298.9951">State6</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119" x="613" y="323.4355">ожидание данных</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79" x="613" y="337.4043">от ПО Банка</text></g><polygon fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" points="677.5,406,689.5,418,677.5,430,665.5,418,677.5,406" style="stroke:#A80036;stroke-width:1.5;"/><g id="State7"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="144" x="425.5" y="507"/><line style="stroke:#A80036;stroke-width:1.5;" x1="425.5" x2="569.5" y1="533.2969" y2="533.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="473" y="524.9951">State7</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102" x="430.5" y="549.4355">Ответ пришел -</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="430.5" y="563.4043">Данные корректны</text></g><g id="State7a"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="50.2656" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="175" x="676" y="1349"/><line style="stroke:#A80036;stroke-width:1.5;" x1="676" x2="851" y1="1375.2969" y2="1375.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="735" y="1366.9951">State7a</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155" x="681" y="1391.4355">Нет ответа от ПО Банка</text></g><rect fill="#000000" filter="url(#fd72k8mp6zrdv)" height="8" style="stroke:none;stroke-width:1.0;" width="80" x="639.5" y="1467"/><g id="State12"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="78.2031" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="181" x="496" y="812"/><line style="stroke:#A80036;stroke-width:1.5;" x1="496" x2="677" y1="838.2969" y2="838.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="558" y="829.9951">State12</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="501" y="854.4355">проверка наличия</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121" x="501" y="868.4043">ден.средств в АТМ</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="161" x="501" y="882.373">ден.средств достаточно</text></g><g id="State13"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="161" x="482" y="967"/><line style="stroke:#A80036;stroke-width:1.5;" x1="482" x2="643" y1="993.2969" y2="993.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="533.5" y="984.9951">State13</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="487" y="1009.4355">проверка наличия</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="141" x="487" y="1023.4043">ден.средств на карте</text></g><g id="State14"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="135" x="489" y="1092"/><line style="stroke:#A80036;stroke-width:1.5;" x1="489" x2="624" y1="1118.2969" y2="1118.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="528" y="1109.9951">State14</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="494" y="1134.4355">ожидание ответа</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="494" y="1148.4043">от ПО БАнка</text></g><g id="State15"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="155" x="478" y="1217"/><line style="stroke:#A80036;stroke-width:1.5;" x1="478" x2="633" y1="1243.2969" y2="1243.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="526.5" y="1234.9951">State15</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="126" x="483" y="1259.4355">ответ - достаточно</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="483" y="1273.4043">АТМ готово к выдаче</text></g><g id="State16"><rect fill="#FEFECE" filter="url(#fd72k8mp6zrdv)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="171" x="470" y="1342"/><line style="stroke:#A80036;stroke-width:1.5;" x1="470" x2="641" y1="1368.2969" y2="1368.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="526.5" y="1359.9951">State16</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="475" y="1384.4355">АТМ рассчитывает</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151" x="475" y="1398.4043">и выдает ден.средства</text></g><ellipse cx="679.5" cy="1614" filter="url(#fd72k8mp6zrdv)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="680" cy="1614.5" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><!--MD5=[60533a5dc91355c93bf187ba4549d745]
link *start to State1--><path d="M71.5,26.32 C71.5,38.78 71.5,61.6 71.5,81.35 " fill="none" id="*start-to-State1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="71.5,86.56,75.5,77.56,71.5,81.56,67.5,77.56,71.5,86.56" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[dc702cd49c4e27e6abb2620dc4bb28d8]
link State1 to State2--><path d="M136.246,119 C146.166,119 156.086,119 166.006,119 " fill="none" id="State1-to-State2" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="171.194,119,162.194,115,166.194,119,162.194,123,171.194,119" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[428d136baf6462f9e03ffacdcb621855]
link State2 to State3--><path d="M311.635,119 C321.604,119 331.572,119 341.541,119 " fill="none" id="State2-to-State3" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="346.754,119,337.754,115,341.754,119,337.754,123,346.754,119" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ba4168f70349cc0467fd74c2e3858fc7]
link State3 to State4--><path d="M434.305,119 C444.239,119 454.173,119 464.107,119 " fill="none" id="State3-to-State4" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="469.302,119,460.302,115,464.302,119,460.302,123,469.302,119" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[196cf0de60bc43d3e8600cccfcd43773]
link State4 to State5--><path d="M563.668,119 C573.513,119 583.358,119 593.203,119 " fill="none" id="State4-to-State5" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="598.351,119,589.351,115,593.351,119,589.351,123,598.351,119" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cb1d70fc38ae7a40e66c409feefc107c]
link State5 to fork_state--><path d="M677.5,151.11 C677.5,170.64 677.5,194.38 677.5,206.7 " fill="none" id="State5-to-fork_state" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="677.5,211.75,681.5,202.75,677.5,206.75,673.5,202.75,677.5,211.75" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[38f4d9b56853913e4cb7557772695f45]
link fork_state to State6--><path d="M677.5,220.16 C677.5,228.86 677.5,253.98 677.5,275.75 " fill="none" id="fork_state-to-State6" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="677.5,280.91,681.5,271.91,677.5,275.91,673.5,271.91,677.5,280.91" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[34863e094cdaba94ab00db68f25b1964]
link State6 to c--><path d="M677.5,345.18 C677.5,363.53 677.5,385.98 677.5,400.85 " fill="none" id="State6-to-c" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="677.5,405.96,681.5,396.96,677.5,400.96,673.5,396.96,677.5,405.96" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[efbfcff68eef4533267684d80b923584]
link c to State7--><path d="M670.664,423.52 C650.921,436.57 592.451,475.23 548.882,504.03 " fill="none" id="c-to-State7" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="544.448,506.96,554.1588,505.3167,548.6142,504.1954,549.7355,498.6508,544.448,506.96" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="614.5" y="473.0669">[Успех]</text><!--MD5=[344947f2ffea93aefdf96013e02ed3f2]
link c to State7a--><path d="M684.17,423.57 C704.208,437.89 762.5,484.18 762.5,538 C762.5,538 762.5,538 762.5,1250 C762.5,1282.098 762.845,1318.907 763.129,1343.829 " fill="none" id="c-to-State7a" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="763.189,1348.96,767.0833,1339.9138,763.1304,1343.9603,759.0839,1340.0075,763.189,1348.96" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="763.5" y="933.0669">[Ошибка]</text><!--MD5=[f00bed0e5b6377dec0b031e0959084e6]
link State7a to join_state--><path d="M741.868,1399.465 C723.176,1420.605 697.381,1449.777 685.697,1462.992 " fill="none" id="State7a-to-join_state" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="682.305,1466.827,691.2637,1462.7354,685.6175,1463.0817,685.2713,1457.4354,682.305,1466.827" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[183b44ae2f7a772a4d0bdd107d22e169]
link State8 to State9--><path d="M200.242,701 C210.037,701 219.832,701 229.628,701 " fill="none" id="State8-to-State9" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="234.75,701,225.75,697,229.75,701,225.75,705,234.75,701" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0dc653f06c2087eca03c83af13b9d918]
link State9 to State10--><path d="M364.088,701 C373.957,701 383.826,701 393.694,701 " fill="none" id="State9-to-State10" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="398.855,701,389.855,697,393.855,701,389.855,705,398.855,701" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[450968267e96c7b8cede1f26ed223b79]
link State10 to State11--><path d="M502.242,701 C512.061,701 521.881,701 531.7,701 " fill="none" id="State10-to-State11" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="536.835,701,527.835,697,531.835,701,527.835,705,536.835,701" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0631dae84fae8688cf9afd926486d88b]
link State7 to GetData--><path d="M425.493,542.36 C318.186,547.42 123.642,562.98 74.5,610 C70.8655,613.4778 67.8378,617.4623 65.3225,621.7763 C64.6937,622.8548 64.0969,623.9538 63.5307,625.0707 C63.3891,625.35 63.2495,625.6303 63.1117,625.9117 " fill="none" id="State7-to-GetData" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="63.1117,625.9117,70.6615,619.5871,65.3101,621.4209,63.4763,616.0696,63.1117,625.9117" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[55d82142851185cca7df4df50292f64a]
link State11 to State12--><path d="M596.545,726.108 C594.783,747.84 592.15,780.317 590.022,806.567 " fill="none" id="State11-to-State12" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="589.603,811.729,594.3177,803.082,590.0073,806.7454,586.3439,802.435,589.603,811.729" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[19dc80acdc78ac3b956a929bd869decf]
link State12 to State13--><path d="M580.194,890.36 C576.568,912.417 572.04,939.967 568.472,961.673 " fill="none" id="State12-to-State13" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="567.633,966.775,573.0404,958.5433,568.4443,961.8413,565.1464,957.2452,567.633,966.775" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[80cc67e5cf8d8d1d41db048b506f9b43]
link State13 to State14--><path d="M560.986,1031.038 C560.162,1047.936 559.137,1068.938 558.275,1086.605 " fill="none" id="State13-to-State14" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="558.014,1091.972,562.4489,1083.1782,558.2583,1086.978,554.4585,1082.7873,558.014,1091.972" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a1db9b7db053b79e99a40076561bb6d5]
link State14 to State15--><path d="M556.248,1156.038 C556.11,1172.936 555.94,1193.938 555.796,1211.605 " fill="none" id="State14-to-State15" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="555.752,1216.972,559.8239,1208.0043,555.792,1211.9722,551.8241,1207.9403,555.752,1216.972" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[dbe8ba5264a5c643e393c06ab8efaaf6]
link State15 to State16--><path d="M555.5,1281.038 C555.5,1297.936 555.5,1318.938 555.5,1336.605 " fill="none" id="State15-to-State16" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="555.5,1341.972,559.5,1332.972,555.5,1336.972,551.5,1332.972,555.5,1341.972" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0c94480355df7a32bd9e935a4e794224]
link State16 to join_state--><path d="M596.102,1406.107 C622.987,1426.703 655.989,1451.988 671.155,1463.607 " fill="none" id="State16-to-join_state" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="675.263,1466.754,670.5507,1458.1056,671.2937,1463.7135,665.6859,1464.4565,675.263,1466.754" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[afabed5d69869b60cd0a02386788f0d9]
link join_state to *end--><path d="M679.5,1475.485 C679.5,1492.483 679.5,1567.1415 679.5,1598.766 " fill="none" id="join_state-to-*end" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="679.5,1603.803,683.5,1594.803,679.5,1598.803,675.5,1594.803,679.5,1603.803" style="stroke:#A80036;stroke-width:1.0;"/><path d="M684.5,1510 L684.5,1565 L897.5,1565 L897.5,1520 L887.5,1510 L684.5,1510 " fill="#FBFB77" filter="url(#fd72k8mp6zrdv)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M887.5,1510 L887.5,1520 L897.5,1520 L887.5,1510 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="698.5" y="1527.0669">Конец - предложение АТМ</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="690.5" y="1542.1997">закончить операции и</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="690.5" y="1557.3325">вернуть карту</text><!--MD5=[29317e76cb79e772e8e6abfd40b0d116]
@startuml
[*] - -> State1
State1 : ожидание ввода
State1 : операции

State1 -> State2
State2 : получено 
State2 :"снятие наличных"

State2 -> State3
State3: ожидание 
State3: ввода PIN

State3 -> State4
State4: PIN получен
State4 -> State5
State5: отправка данных
State5: на проверку системе
state fork_state <<fork>>
State5 -down-> fork_state
fork_state -down-> State6
State6: ожидание данных
State6: от ПО Банка

state c <<choice>>
State6 - -> c
c - -> State7 : [Успех]
State7 : Ответ пришел - 
State7 : Данные корректны
c - -> State7a : [Ошибка]
State7a : Нет ответа от ПО Банка


state join_state <<join>>
State7a - -> join_state 

state "Получение данных по операции" as GetData {
  State8: ожидание 
State8: ввода валюты

State8 -right-> State9
State9: валюта получена

State9 -right-> State10
State10: ожидание 
State10:ввода суммы

State10 -right-> State11
State11: сумма получена
}

State7 -down-> GetData

State11-down-> State12
State12: проверка наличия 
State12: ден.средств в АТМ 
State12: ден.средств достаточно

State12-down-> State13
State13: проверка наличия 
State13: ден.средств на карте

State13-down-> State14
State14: ожидание ответа 
State14: от ПО БАнка

State14-down-> State15
State15: ответ - достаточно
State15: АТМ готово к выдаче


State15-down-> State16
State16: АТМ рассчитывает
State16: и выдает ден.средства



State16 -down-> join_state

join_state -down-> [*]

note right on link 
  Конец - предложение АТМ 
закончить операции и
вернуть карту
end note
@enduml

PlantUML version 1.2021.17beta4(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>